<xf:title>{{ phrase('newsletters_groups') }}</xf:title>

<xf:pageaction>
	<xf:button href="{{ link('newsletters/groups/add') }}" icon="add">
		{{ phrase('newsletters_add_group') }}
	</xf:button>
</xf:pageaction>


<div class="block">
	<div class="block-outer">
		<xf:macro id="filter_macros::quick_filter" arg-key="group" arg-class="block-outer-opposite" />
	</div>
	
	<div class="block-container">
		<xf:if is="$groups is not empty">
			<div class="block-body">
				
				<xf:datalist>	
					<xf:foreach loop="$typeOptions" key="$key" value="$type">	
						<xf:set var="$groupType" value="{{ $groups.{$key} }}" />

						<xf:if contentcheck="true">
							<xf:datarow
										colspan="3"
										label="{{ phrase('newsletters_group_type') }}: {$type}"
										rowtype="subsection"
										rowclass="dataList-row--noHover" />

							<xf:contentcheck>
								<xf:foreach loop="$groupType" value="$group">					
									<xf:datarow
										label="{$group.name}"
										hint="(hint)"
										explain="{{ phrase('newsletters_addon') }}: {$group.addon_id}"
										href="{{ link('newsletters/groups/edit', $group) }}"
										delete="{{ link('newsletters/groups/delete', $group) }}"
										data-xf-click="overlay" >
									</xf:datarow>
								</xf:foreach>
							</xf:contentcheck>
						</xf:if>
					</xf:foreach>
				</xf:datalist>
			</div>
			<div class="block-footer">
				<span class="block-footer-counter">{{ display_totals($groups) }}</span>
			</div>
		<xf:else />
			<div class="block-body block-row">{{ phrase('no_results_found') }}</div>
		</xf:if>
	</div>	
</div>