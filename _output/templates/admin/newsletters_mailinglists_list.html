<xf:title>{{ phrase('newsletters_mailing_lists') }}</xf:title>

<xf:pageaction>
	<xf:button href="{{ link('newsletters/mailing-lists/add') }}" icon="add">
		{{ phrase('newsletters_add_mailing_list') }}
	</xf:button>
</xf:pageaction>

<div class="block">
	<div class="block-outer">
		<xf:macro id="filter_macros::quick_filter" arg-key="mailing-list" arg-class="block-outer-opposite" />
	</div>
	<div class="block-container">
		<xf:if is="$lists is not empty">
			<div class="block-body">
				<xf:datalist>				
					<xf:foreach loop="$lists" value="$list">	
						<xf:datarow
									label="{$list.name}"									
									explain="{{ $list.description }}"
									href="{{ link('newsletters/mailing-lists/edit', $list) }}"
									delete="{{ link('newsletters/mailing-lists/delete', $list) }}"
									data-xf-click="overlay" >
							<xf:action href="{{ link('newsletters/mailing-lists/subscribers', $list) }}">{{ phrase('newsletters_subscribers_count_x', {'count': $list.subscriber_count}) }}</xf:action>
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
				
			</div>
			<div class="block-footer">
				<span class="block-footer-counter">{{ display_totals($lists) }}</span>
			</div>
		<xf:else />
			<div class="block-body block-row">{{ phrase('no_results_found') }}</div>
		</xf:if>
	</div>	
</div>