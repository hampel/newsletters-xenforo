<xf:title>{{ phrase('newsletters_subscribers_to_group_x', {'name': $group.name}) }}</xf:title>

<div class="block">
	<div class="block-container">
		<xf:if is="$subscriptions is not empty">
			<div class="block-body">
				<xf:datalist data-xf-init="responsive-data-list">
					<xf:datarow rowtype="header">
						<xf:cell>{{ phrase('newsletters_subscriber') }}</xf:cell>
						<xf:cell class="dataList-cell--min">{{ phrase('newsletters_status') }}</xf:cell>
						<xf:cell class="dataList-cell--min">{{ phrase('newsletters_source') }}</xf:cell>
						<xf:cell class="dataList-cell--min">{{ phrase('newsletters_signup_date') }}</xf:cell>
						<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
						<xf:cell class="dataList-cell--min">&nbsp;</xf:cell>
					</xf:datarow>
					<xf:foreach loop="$subscriptions" value="$subscription">
						
						<xf:set var="$subscriber" value="{{ $subscription.Subscriber }}" />

						<xf:datarow>
							<xf:main hash="{$subscriber.subscriber_id}" href="{{ link('newsletters/subscribers/edit', $subscriber) }}" data-xf-click="overlay">
								<xf:label>{$subscriber.email}</xf:label>
								<xf:hint>{$subscriber.User.username}</xf:hint>
								<xf:explain>{$subscriber.description}</xf:explain>
							</xf:main>
							<xf:cell class="dataList-cell--min dataList-cell--hint">{{ phrase_dynamic('newsletters_' . $subscriber.status) }}</xf:cell>
							<xf:cell class="dataList-cell--min dataList-cell--hint">{{ phrase_dynamic('newsletters_' . $subscriber.source) }}</xf:cell>
							<xf:cell class="dataList-cell--min dataList-cell--hint"><xf:date time="{$subscriber.signup_date}" /></xf:cell>
							<xf:if is="$subscriber.User.user_id">
								<xf:action href="{{ link_type('public', 'members', $subscriber) }}">{{ phrase('newsletters_user_info') }}</xf:action>
								<xf:else />
								<xf:cell class="dataList-cell--action dataList-cell--min dataList-cell--hint">
									&nbsp;
								</xf:cell>
							</xf:if>						
							<xf:delete href="{{ link('newsletters/subscribers/delete', $subscriber) }}" />
						</xf:datarow>
					</xf:foreach>
				</xf:datalist>
			</div>
			<div class="block-footer block-footer--split">
				<span class="block-footer-counter">{{ display_totals($totalSubscriptions, $total) }}</span>
			</div>
			<xf:else />
			<div class="block-body block-row">{{ phrase('no_results_found') }}</div>
		</xf:if>
	</div>
</div>